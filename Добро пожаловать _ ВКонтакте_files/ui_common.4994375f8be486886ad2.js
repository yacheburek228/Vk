!function(e){function t(t){for(var i,l,n=t[0],r=t[1],a=t[2],h=0,u=[];h<n.length;h++)l=n[h],o[l]&&u.push(o[l][0]),o[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(c&&c(t);u.length;)u.shift()();return s.push.apply(s,a||[]),_()}function _(){for(var e,t=0;t<s.length;t++){for(var _=s[t],i=!0,n=1;n<_.length;n++){var r=_[n];0!==o[r]&&(i=!1)}i&&(s.splice(t--,1),e=l(l.s=_[0]))}return e}var i={},o={"web/ui_common":0},s=[];function l(t){if(i[t])return i[t].exports;var _=i[t]={i:t,l:!1,exports:{}};return e[t].call(_.exports,_,_.exports,l),_.l=!0,_.exports}l.m=e,l.c=i,l.d=function(e,t,_){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(l.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(_,i,function(t){return e[t]}.bind(null,i));return _},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/js/cmodules/";var n=window.webpackJsonp=window.webpackJsonp||[],r=n.push.bind(n);n.push=t,n=n.slice();for(var a=0;a<n.length;a++)t(n[a]);var c=r;s.push([239,"bundles/common","bundles/465d0d9cbc3293f900e243dc55e3305e"]),_()}({239:function(e,t,_){e.exports=_("MpaO")},MpaO:function(e,t,_){"use strict";_.r(t);var i=_("hmKL"),o=_("qrY5"),s=_("59zB"),l=_("qUi/"),n=_("zxIV"),r=_("lXE5"),a={showSaved:function(e){var t=ge(e),_=t&&Object(n.gpeByClass)("page_block",t),i=_&&geByClass1("page_block_saved",_);if(t&&_&&i){var o=animate.pbind(i,{opacity:1},200,animate.pbind(i,{opacity:0},2e3));a.scrollToStart(_,o)}},scrollToStart:function(e,t){var _=Object(n.getXY)(e)[1];Object(r.scrollGetY)()>_-60?(Object(r.scrollToY)(_-60,200),t&&setTimeout(t,200)):t&&t()}},c=a,h=_("btP0"),u=_("zmTt"),d=_("gdug"),b=_("t7n3"),E=_("Egk5"),p={over:function(e,t,_){if(!d.browser.mobile&&!vk.widget){hasClass(e,"ui_zoom_wrap")||addClass(e,"ui_zoom_wrap"),cur.bigphCache=cur.bigphCache||{},_=_||{};var i=Object(n.domFC)(e),o=cur.bigphCache[t];if("A"!=i.tagName||!hasClass(i,"ui_zoom_outer")){var s=o&&o._id?"/photo"+o._id+"?all=1":"/albums"+t;(i=e.insertBefore(Object(n.se)(`<a class="ui_zoom_outer" href="${s}" aria-label="${Object(b.clean)(getLang("global_photo_full_size"))}"><div class="ui_zoom_inner"><div class="ui_zoom"><div class="ui_zoom_icon"></div></div></div></a>`),Object(n.domFC)(e)))._uid=t,i.offsetHeight,addClass(i,"ui_zoom_added")}i.onclick=p.click.pbind(e,t,_),_.fastLoad&&p.load(e,t,_)}},click:function(e,t,_,i){if(!i||!1===Object(E.checkEvent)(i)){_.fastLoad||p.load(e,t,_);var o=cur.bigphCache[t];if(o)return"load"==o||"show"==o?(cur.bigphCache[t]="show",Object(E.cancelEvent)(i)):(_.onBeforeShow&&_.onBeforeShow(),extend(o,extend({jumpTo:{z:"albums"+t}},_.showOpts||{})),showPhoto(o._id,"album"+t+"_0/rev",o,i))}},load:function(e,t,_){var i=Object(n.domFC)(e);void 0===cur.bigphCache[t]&&(cur.bigphCache[t]="load",ajax.post("al_photos.php",{act:"fast_get_photo",oid:t},{onDone:function(o){if(!o)return e.onmouseover=function(){},void Object(n.re)(i);var s="show"==cur.bigphCache[t];cur.bigphCache[t]=o,i.href="/photo"+o._id+"?all=1",s&&p.click(e,t,_)},onFail:function(){return e.onmouseover=function(){},Object(n.re)(Object(n.domFC)(e)),!0}}))}},O=p,m=(_("a1Th"),_("Btvt"),_("7jxN"));function g(e,t){var _=this.wheel.bind(this);this.obj=e=ge(e),this.options=extend({nomargin:!1,horizontal:!1,top:0,bottom:0,padding:3,prefix:"",hidden:0},t||{}),this.isHorizontal=this.options.horizontal,this.scrollProp=this.isHorizontal?"scrollLeft":"scrollTop",this.scrollDimensionProp=this.isHorizontal?"scrollWidth":"scrollHeight",this.topShadow=!1,this.bottomShadow=!1,this[this.scrollProp+"Last"]=this.obj[this.scrollProp],this.destroyList=[],this.mouseDown=function(e){return!!this.inited&&(this.moveY||Object(E.checkEvent)(e)?void 0:(e||(e=window.event),addEvent(document,"mousemove",this.mouseMove),addEvent(document,"mouseup",this.mouseUp),setStyle(document.body,"cursor","pointer"),setStyle(this.obj,{pointerEvents:"none"}),this.isHorizontal?this.moveX=e.screenX-(this.inner.offsetLeft||0):this.moveY=e.screenY-(this.inner.offsetTop||0),addClass(this.inner,"scrollbar_hovered"),Object(b.isFunction)(this.options.startDrag)&&this.options.startDrag(),Object(b.isFunction)(this.options.onHold)&&this.options.onHold(!0),this.isDown=!0,Object(E.cancelEvent)(e)))}.bind(this),this.mouseMove=function(e){if(!this.inited)return!1;if(e||(e=window.event),this.isHorizontal){var t=Math.floor((this.contWidth()-this.scrollWidth)*Math.min(1,(e.screenX-this.moveX)/(this.scrollbarSize-this.innerWidth-6)));Object(b.isFunction)(this.options.onScroll)&&this.options.onScroll(this.obj.scrollLeft-t,this),this.obj.scrollLeft=t}else{var _=Math.floor((this.contHeight()-this.scrollHeight)*Math.min(1,(e.screenY-this.moveY)/(this.scrollbarSize-this.innerHeight-6)));Object(b.isFunction)(this.options.onScroll)&&this.options.onScroll(this.obj.scrollTop-_,this),this.obj.scrollTop=_}return this.update(!0),!1}.bind(this),this.mouseUp=function(){return!!this.inited&&(this.moveY=this.moveX=this.isDown=!1,this.isOut&&this.contOut(),removeEvent(document,"mousemove",this.mouseMove),removeEvent(document,"mouseup",this.mouseUp),setStyle(document.body,"cursor","default"),setStyle(this.obj,{pointerEvents:""}),removeClass(this.inner,"scrollbar_hovered"),Object(b.isFunction)(this.options.stopDrag)&&this.options.stopDrag(),Object(b.isFunction)(this.options.onHold)&&this.options.onHold(!1),!1)}.bind(this),this.initObjMouseWheel=function(){addEvent(e,d.browserFeatures.wheelEvent,_)},this.destroyObjMouseWheel=function(){removeEvent(e,d.browserFeatures.wheelEvent,_)},this.initScrollBarMouseWheel=function(){addEvent(this.scrollbar,d.browserFeatures.wheelEvent,_)}.bind(this),this.destroyScrollBarMouseWheel=function(){removeEvent(this.scrollbar,d.browserFeatures.wheelEvent,_)}.bind(this),setTimeout(function(){setStyle(e,{overflow:"hidden"}),this.scrollbar=ce("div",{className:(this.options.prefix?this.options.prefix+"scrollbar_cont ":"")+"scrollbar_cont"+(this.isHorizontal?" scrollbar_cont_horiz":"")+(this.options.hidden?" scrollbar_hidden":"")}),this.inner=ce("div",{className:(this.options.prefix?this.options.prefix+"scrollbar_inner ":"")+"scrollbar_inner"}),this.scrollbar.appendChild(this.inner);var t=this.widthUpdated();this.options.shadows&&(e.parentNode.insertBefore(this.topShadowDiv=ce("div",{className:(this.options.prefix?this.options.prefix+"scrollbar_top ":"")+"scrollbar_top"},{width:t[0]}),e),e.parentNode.insertBefore(this.bottomShadowDiv=ce("div",{className:(this.options.prefix?this.options.prefix+"scrollbar_bottom ":"")+"scrollbar_bottom"},{width:t[0]}),e.nextSibling)),e.parentNode.insertBefore(this.scrollbar,e);var i=function(e){switch(e||(e=window.event),e.keyCode){case 40:this.obj[this.scrollProp]+=40;break;case 38:this.obj[this.scrollProp]-=40;break;case 34:this.obj[this.scrollProp]+=this[this.scrollDimensionProp];break;case 33:this.obj[this.scrollProp]-=this[this.scrollDimensionProp];break;default:return!0}return this.update(!0),Object(E.cancelEvent)(e)}.bind(this),o=function(){this.initObjMouseWheel(),removeEvent(e,"mousemove",o)}.bind(this);if(addEvent(e,"mouseleave",this.destroyObjMouseWheel),addEvent(e,"mouseenter",this.initObjMouseWheel),addEvent(e,"mousemove",o),addEvent(this.scrollbar,"mouseenter",this.initScrollBarMouseWheel),addEvent(this.scrollbar,"mouseleave",this.destroyScrollBarMouseWheel),this.options.scrollElements&&each(this.options.scrollElements,function(e,t){addEvent(t,d.browserFeatures.wheelEvent,_)}),addEvent(this.scrollbar,"mouseover",this.contOver.bind(this)),addEvent(this.scrollbar,"mouseout",this.contOut.bind(this)),addEvent(this.scrollbar,"mousedown",this.contDown.bind(this)),d.browser.safari_mobile){var s=function(e){this.isHorizontal?cur.touchX=e.touches[0].pageX:cur.touchY=e.touches[0].pageY}.bind(this),l=function(t){return this.isHorizontal?(cur.touchDiff=cur.touchX-(cur.touchX=t.touches[0].pageX),e.scrollLeft+=cur.touchDiff,e.scrollLeft>0&&!1!==this.shown&&this.update(!0)):(cur.touchDiff=cur.touchY-(cur.touchY=t.touches[0].pageY),e.scrollTop+=cur.touchDiff,e.scrollTop>0&&!1!==this.shown&&this.update(!0)),Object(E.cancelEvent)(t)}.bind(this),r=function(){cur.animateInt=setInterval(function(){cur.touchDiff=.9*cur.touchDiff,cur.touchDiff<1&&cur.touchDiff>-1?clearInterval(cur.animateInt):(e[self.scrollProp]+=cur.touchDiff,this.update(!0))}.bind(this),0)}.bind(this);addEvent(e,"touchstart",s),addEvent(e,"touchmove",l),addEvent(e,"touchend",r),this.destroyList.push(function(){removeEvent(e,"touchstart",s),removeEvent(e,"touchmove",l),removeEvent(e,"touchend",r)})}addEvent(this.inner,"mousedown",this.mouseDown),this.options.nokeys?this.onkeydown=i:addEvent(window,"keydown",i),this.destroyList.push(function(){removeEvent(e,d.browserFeatures.wheelEvent,_),this.options.scrollElements&&each(this.options.scrollElements,function(e,t){removeEvent(t,d.browserFeatures.wheelEvent,_)}),removeEvent(this.inner,"mousedown",this.mouseDown),removeEvent(window,"keydown",i),removeEvent(e,"mousemove",o),Object(n.re)(this.scrollbar)}.bind(this)),this.isHorizontal||(this.contHeight()<=this.scrollHeight?hide(this.bottomShadowDiv):this.bottomShadow=!0),this.options.onInit&&this.options.onInit(),this.inited=!0,this.update(!0),this.options.global||cur.destroy.push(this.destroy.bind(this))}.bind(this),0)}g.prototype={wheel:function(e){if(!this.disabled){e||(e=window.event);var t=0,_=this.obj[this.scrollProp],i=void 0!==e.deltaMode?e.deltaMode:"MozMousePixelScroll"==e.type?0:1;if("wheel"==e.type?t=-(this.isHorizontal?e.deltaX:e.deltaY):void 0!==e.wheelDeltaX&&void 0!==e.wheelDeltaY?(t=.025*(this.isHorizontal?e.wheelDeltaX:e.wheelDeltaY),d.browser.mac&&d.browser.opera&&(t*=.1)):void 0!==e.wheelDelta?t=.025*e.wheelDelta:e.detail&&e.axis===(this.isHorizontal?1:2)&&(t=-e.detail),t=1*t*(1==i?15:2==i?450:1))return this.obj[this.scrollProp]-=t,Object(b.isFunction)(this.options.onScroll)&&this.options.onScroll(t,this),_!=this.obj[this.scrollProp]&&!1!==this.shown&&(this.update(!0),addClass(this.inner,"scrollbar_hovered"),clearTimeout(this.moveTimeout),this.moveTimeout=setTimeout(function(){removeClass(this.inner,"scrollbar_hovered")}.bind(this),300)),!!(!this.shown&&!this.options.forceCancelEvent||this.isHorizontal&&_==this.obj[this.scrollProp])&&void 0}},setOptions:function(e){extend(this.options,e)},widthUpdated:function(){var e,t=Object(n.getSize)(this.obj);return e=this.isHorizontal?{marginLeft:this.options.top+"px",marginTop:t[1]+3+"px",width:t[0]-this.options.top-this.options.bottom+"px"}:{marginTop:this.options.top+"px",marginLeft:this.options.nomargin?0:t[0]-(this.options.mlDiff||7)+"px",height:t[1]-this.options.top-this.options.bottom+"px"},this.options.nomargin&&(void 0!==this.options.right&&"auto"!==this.options.right?(e.right=this.options.right,e.left="auto"):void 0!==this.options.left&&(e.right="auto",e.left=this.options.left)),this.scrollWidth=t[0],this.scrollHeight=t[1],this.scrollbarSize=t[this.isHorizontal?0:1]-this.options.top-this.options.bottom,setStyle(this.scrollbar,e),setTimeout(function(){removeClass(this.scrollbar,"no_transition")}.bind(this)),t},contOver:function(){this.isOut=!1,this.shown&&addClass(this.scrollbar,"scrollbar_c_overed")},contOut:function(){this.isOut=!0,this.isDown||removeClass(this.scrollbar,"scrollbar_c_overed")},contDown:function(e){if(e||(e=window.event),this.isHorizontal){var t=e.offsetX-this.innerWidth/2+5,_=this.scrollbarSize-this.innerWidth;this.obj.scrollLeft=Math.floor((this.contWidth()-this.scrollWidth)*Math.min(1,t/_))}else{var i=e.offsetY-this.innerHeight/2+5,o=this.scrollbarSize-this.innerHeight;this.obj.scrollTop=Math.floor((this.contHeight()-this.scrollHeight)*Math.min(1,i/o))}this.update(!0),this.mouseDown(e)},hide:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){hide(this.topShadowDiv,this.bottomShadowDiv,this.scrollbar),this.hidden=!0}),show:function(){Object(n.show)(this.topShadowDiv,this.bottomShadowDiv,this.scrollbar),this.hidden=!1},disable:function(){this.hide(),this[this.scrollProp](0),this.disabled=!0},enable:function(){this.show(),this.update(),this.disabled=!1},getScrollHeight:function(){return this.scrollHeight},scrollTop:function(e){if(void 0===e)return this.obj.scrollTop;this.obj.scrollTop=parseInt(e),this.update(!1,!0)},scrollBottom:function(e){if(void 0===e)return this.contHeight()-this.scrollHeight-this.obj.scrollTop;this.obj.scrollTop=this.contHeight(!0)-this.scrollHeight-e,this.update(!0,!0)},smoothScroll:function(e,t,_){var i=this.obj.scrollTop+e;void 0===_&&(_=300);var o=this;new m.Fx.Base({scrollTop:this.obj.scrollTop},{transition:m.Fx.Transitions.easeOutCubic,onStep:function(e){o.obj.scrollTop=e.scrollTop,o.update(!0)},duration:_,onComplete:function(){t&&t(scroll)}}).start({scrollTop:this.obj.scrollTop},{scrollTop:i})},scrollLeft:function(e){this.obj.scrollLeft=parseInt(e),this.update(!1,!0)},destroy:function(){each(this.destroyList||[],function(e,t){t()})},contHeight:function(){return Math.round(this.options.contHeight||this.obj.scrollHeight)},contWidth:function(){return Math.round(this.options.contWidth||this.obj.scrollWidth)},val:function(e){return e&&(this.obj[this.scrollProp]=e,this.update(!0,!0)),this.obj[this.scrollProp]},update:function(e,t){if(this.inited&&!this.hidden){if(!e&&(this.isHorizontal?this.moveX:this.moveY))return!0;var _,i;if(t&&(_=Object(n.getSize)(this.obj),this.isHorizontal?(this.scrollWidth=_[0],_=Math.round(this.scrollWidth-this.options.top-this.options.bottom),this.scrollbarSize!==_&&(this.scrollbar.style.width=_+"px")):(this.scrollHeight=_[1],_=Math.round(this.scrollHeight-this.options.top-this.options.bottom),this.scrollbarSize!==_&&(this.scrollbar.style.height=_+"px")),this.scrollbarSize=_),this.isHorizontal?(_=this.contWidth())<=Math.round(this.scrollWidth):(_=this.contHeight())<=Math.round(this.scrollHeight))return hide(this.inner,this.bottomShadowDiv,this.topShadowDiv),this.scrollbar.style.pointerEvents="none",this.topShadow=this.bottomShadow=this.shown=!1,Object(b.isFunction)(this.options.more)&&_-this.obj[this.scrollProp]<2*this[this.scrollDimensionProp]&&this.options.more(this),void(this[this.scrollProp+"Last"]=this.obj[this.scrollProp]);this.shown||(Object(n.show)(this.inner),this.scrollbar.style.pointerEvents="",this.shown=!0);var o=this.val();Object(b.isFunction)(this.options.scrollChange)&&this.options.scrollChange(o),this.lastProgress=Math.min(1,o/(_-(this.isHorizontal?this.scrollWidth:this.scrollHeight))),this.lastProgress>0!=this.topShadow&&((this.topShadow=!this.topShadow)?n.show:hide)(this.topShadowDiv),this.lastProgress<1!=this.bottomShadow&&((this.bottomShadow=!this.bottomShadow)?n.show:hide)(this.bottomShadowDiv),this.isHorizontal?((i=Math.max(40,Math.floor(this.scrollbarSize*this.scrollWidth/_)))!==this.innerWidth&&(this.inner.style.width=(this.innerWidth=i)+"px"),this.inner.style.marginLeft=(this.scrollbarSize-i-2*this.options.padding)*this.lastProgress+this.options.padding+"px"):((i=Math.max(40,Math.floor(this.scrollbarSize*this.scrollHeight/_)))!==this.innerHeight&&(this.inner.style.height=(this.innerHeight=i)+"px"),this.inner.style.marginTop=(this.scrollbarSize-i-2*this.options.padding)*this.lastProgress+this.options.padding+"px"),Object(b.isFunction)(this.options.more)&&_-this.obj[this.scrollProp]<2*this[this.scrollDimensionProp]&&this.options.more(this),this[this.scrollProp+"Last"]=this.obj[this.scrollProp]}},restore:function(){this.obj[this.scrollProp]=this[this.scrollProp+"Last"]}};var v=g,w=(_("KKXr"),_("Oyvg"),_("OG14"),_("pIFo"),_("SRfc"),_("4+be"));var M=class{constructor(e,t,_,o){0===_.length&&(_={}),o=o||{},this.indexer=new vkIndexer(t,o.getName?o.getName:function(e){var t=e[1];if(o.nameClass){var _=Object(n.se)(t);_&&(t=val(geByClass1(o.nameClass,_))||t)}return t}),this.owners=t,this.tpl=o.tpl,this.rsTpl=o.rsTpl,this.idIndex=o.idIndex||0,this.selected=_,this.getUnsorted=o.getUnsorted,this.unsortedIndex=o.unsortedIndex||0,this.box=e,this.filter=o.filter,o.onTabUpdate&&(this.onTabUpdate=o.onTabUpdate),o.onListClick&&(this.onListClick=o.onListClick),e.setButtons(getLang("global_save"),function(_){var i={},l=[],n=[];Object(b.each)(t,function(){!s.invertedSelection&&s.selected[this[s.idIndex]]||s.invertedSelection&&!s.selected[this[s.idIndex]]?(i[this[s.idIndex]]=this,l.push(this[s.idIndex])):n.push(this[s.idIndex])}),!1!==cur.onOListSave(l,n,i,o.ret||{},_)&&e.hide(200)},getLang("global_cancel")),o.box_options&&e.setOptions(o.box_options);var s=this;this.scrollNode=geByClass1("privacy_olist",e.bodyNode),this.moreEl=geByClass1("olist_more",e.bodyNode,"a"),this.olistEl=geByClass1("olist",e.bodyNode,"div"),this.olistFilter=ge("olist_filter_actions"),this.sel=o.sel||0,this.tabs=geByClass1("ui_tabs",e.bodyNode),this.noSelMsg=o.noSelMsg||getLang("friends_no_user_selected"),this.invertedSelection=!1;var l=geByClass1("olist_tab_sel",this.tabs);this.selCnt=Object(b.intval)(val(geByClass1("ui_tab_count",l)));var r=this.filter?this.filter:this.filter=ge("olist_filter");setTimeout(elfocus.pbind(r),100),this.moreEl&&(Object(n.isVisible)(this.moreEl)?this.moreEl.onclick=function(e){return s.renderList("",60),Object(E.cancelEvent)(e)}:(Object(n.re)(this.moreEl),Object(n.show)(this.moreEl))),addEvent(this.olistEl,"click",this.onMouseEvent.bind(this)),addEvent(this.scrollNode,"scroll",this.onScroll.bind(this));var a=s.sel?s.sel>0?"sel":"unsel":"all",c=geByClass1("olist_tab_"+a,s.tabs);c=c&&geByClass1("ui_tab",c),(cur.onOListTabChange=function(e,t){e&&i.default.switchTab(e),void 0===t&&(t=void 0===s.selPrev?0:s.selPrev),s.selPrev=s.sel,s.sel=t,s.renderList(val(r),0,t),setTimeout(elfocus.pbind(r),100)})(c,s.sel),cur.onOlistChange=s.renderList.bind(this),cur.onOlistSelect=s.onOlistSelect.bind(this),cur.onOlistFilters=s.onOlistFilters.bind(this)}onScroll(){var e=Object(n.domPN)(this.box.bodyNode),t=this.moreEl,_=this.scrollNode,i=_.scrollHeight,o=_.scrollTop,s=_.offsetHeight||_.clientHeight;Object(n.toggleClass)(e,"olist_topsh",o>0),Object(n.toggleClass)(e,"olist_botsh",o+s<i),t&&t.offsetTop&&t.onclick&&o+s+200>=i&&t.onclick()}onMouseEvent(e){var t=e.originalTarget||e.target;if(hasClass(t,"olist_item_wrap")||(t=Object(n.gpeByClass)("olist_item_wrap",t)),t&&t!=bodyNode){if(hasClass(t,"olist_item_loading"))return Object(E.cancelEvent)(e);if(Object(E.checkEvent)(e))return!0;this.box.changed=!0;var _=t.id.match(/-?\d+/)[0],i=!this.invertedSelection&&this.selected[_]||this.invertedSelection&&!this.selected[_];if(Object(n.toggleClass)(t,"olist_item_wrap_on",!i),this.selected[_]=!i||this.invertedSelection,this.selCnt+=!i||this.invertedSelection?1:-1,this.selTabUpdate(),this.onListClick&&this.onListClick(t,i),this.scrollNode.scrollTop<50){var o=this.filter;setTimeout(elfocus.pbind(o),100)}return Object(E.cancelEvent)(e)}}onOlistSelect(e,t){o.default.toggle(this.olistFilter,!1);var _=this.selCnt,i=this.selected;switch(t.ctrlKey||t.metaKey||t.shiftKey||(i={},_=0),e){case"all":i={},_=0,Object(b.each)(this.owners,function(){i[this[0]]=1,_++});break;case"none":i={},_=0;break;case"people":Object(b.each)(this.owners,function(){this[0]>0&&!i[this[0]]&&(i[this[0]]=1,_++)});break;case"groups":Object(b.each)(this.owners,function(){this[0]<0&&!i[this[0]]&&(i[this[0]]=1,_++)});break;default:var s=1<<Object(b.intval)(e.replace("list",""));Object(b.each)(this.owners,function(){this[4]&s&&!i[this[0]]&&(i[this[0]]=1,_++)})}return this.selCnt=_,this.selected=i,this.selTabUpdate(),this.renderList(),!1}onOlistFilters(e,t){o.default.show(e,t);var _=t=>{o.default.toggle(e,!1),removeEvent(document,"mousedown",_)};return addEvent(document,"mousedown",_),t&&Object(E.cancelEvent)(t)}selTabUpdate(){if(this.isAlbumEdit)this.onTabUpdate&&this.onTabUpdate();else if(this.tabs){var e=this.selCnt,t=this.owners.length-e,_=geByClass1("olist_tab_sel",this.tabs),i=geByClass1("olist_tab_unsel",this.tabs);val(geByClass1("ui_tab_count",_),e||""),val(geByClass1("ui_tab_count",i),t||""),this.onTabUpdate&&this.onTabUpdate()}}renderList(e,t,_){t=t||0,_=_||this.sel;var i=t?60:120,o=this;e&&(e=e.replace(/\u2013|\u2014/g,"-"));var s=e?this.indexer.search(e):this.owners;o.unsortedIndex==_&&o.getUnsorted&&(s=o.getUnsorted(s));var l=this.selected,r=o.invertedSelection?!(this.sel<0):this.sel<0,a=o.tpl;if(_&&o.unsortedIndex!=_){var c=[];Object(b.each)(s,function(){var e=this[o.idIndex];if((!r&&l[e]||r&&!l[e])&&(c.push(this),c.length>t+i))return!1}),s=c}var h=s.length;s=s.slice(t,t+i);var u,d=[];if(e){e=Object(b.clean)(e);var p=Object(b.escapeRE)(e),O=Object(w.parseLatin)(e);null!=O&&(p=p+"|"+Object(b.escapeRE)(O)),u=new RegExp("(?![^&;]+;)(?!<[^<>]*)((\\(*)("+p+"))(?![^<>]*>)(?![^&;]+;)","gi")}var m=o.rsTpl?o.rsTpl:function(e,t,_,i,o){var s=!_&&i[e[0]]||_&&!i[e[0]],l=e[1];if(t){l=-1==t.indexOf(" ")?l.split(" "):[l];var n="";for(var r in l)l.hasOwnProperty(r)&&(n+=(r>0?" ":"")+l[r].replace(o,"$2<em>$3</em>"));l=n}return{id:e[0],name:l,photo:e[2],classname:s?" olist_item_wrap_on":"",link:e[3]||(e[0]>0?"id"+e[0]:"club"+-e[0])}};Object(b.each)(s,function(){d.push(Object(n.rs)(a,m(this,e,o.invertedSelection,l,u)))}),t||d.length||d.push('<div class="no_rows">'+(e?getLang("global_search_not_found").replace("{search}",e):o.noSelMsg)+"</div>"),Object(n.re)(this.moreEl),d=d.join(" "),t?this.olistEl.appendChild(Object(n.cf)(d)):val(this.olistEl,d),h>t+i&&(this.olistEl.appendChild(this.moreEl),this.moreEl.onclick=function(_){return o.renderList(e,t+i),Object(E.cancelEvent)(_)}),o.box&&o.box.scroll&&o.box.scroll.update(!1,!0),o.onScroll()}};function f(e,t){if(this.constructor!=f)throw new Error("Slider was called without 'new' operator");if(!e)throw new Error("No element was provided for Slider");e=ge(e),this.options=t||{size:1},this.options.backValue=this.options.backValue||0;var _=100*this.options.backValue,i=`<div class="slider_slide"><div class="slider_loading_bar" style="opacity: 0; display: none;"></div> ${this.options.withBackLine?'<div class="slider_back" style="width:'+_+'%"></div>':""} <div class="slider_amount"></div> <div class="slider_handler"></div> </div>`;this._el=ce("div",{innerHTML:i,className:"slider",id:e.getAttribute("id")||""});for(var o=e.classList||[],s=this,l=0,r=o.length;l<r;l++)addClass(this._el,o[l]);each(this._el.attributes,function(e,t){"id"==t.name&&"class"==t.name||s._el.setAttribute(t.name,t.value)}),e.parentNode.replaceChild(this._el,e),Object(n.data)(this._el,"slider",this),this._amountEl=geByClass1("slider_amount",this._el),this._handlerEl=geByClass1("slider_handler",this._el),this._slideEl=geByClass1("slider_slide",this._el),this._backEl=geByClass1("slider_back",this._el),this._progressEl=geByClass1("slider_loading_bar",this._el),this.options.color&&(setStyle(this._amountEl,{backgroundColor:this.options.color}),setStyle(this._handlerEl,{backgroundColor:this.options.color})),this.options.handlerColor&&setStyle(this._handlerEl,{backgroundColor:this.options.handlerColor}),this.options.backColor&&setStyle(this._slideEl,{backgroundColor:this.options.backColor}),addClass(this._el,"slider_size_"+this.options.size),this.options.debounce&&(this._onValueChangeDebounced=debounce(this._onValueChange,this.options.debounce)),t.formatHint&&(addEvent(this._el,"mousemove",this._ev_onMouseOver=this._onMouseOver.bind(this)),addEvent(this._el,"mouseleave",this._ev_onMouseLeave=this._onMouseLeave.bind(this))),addEvent(this._el,"mousedown",this._ev_onMouseDown=this._onMouseDown.bind(this)),this.setValue(this.options.value||0,!this.options.fireChangeEventOnInit,!1),this.setBackValue(this.options.backValue)}f.prototype.toggleAdState=function(e){this._adState=!!e,Object(n.toggleClass)(this._el,"slider_ad_mode",!!e)},f.prototype.toggleAdMarker=function(e){e=!!e;var t=geByClass1("slider_ad_marker",this._el);if(e){if(!t){var _="onmouseover=\"showTooltip(this, {text: '"+getLang("global_audio_ad")+"', black: 1, shift: [16, 9, 10]})\"";t=Object(n.se)('<div class="slider_ad_marker_wrap" '+_+'><div class="slider_ad_marker"></div></div>'),Object(n.domPN)(this._slideEl).insertBefore(t,this._slideEl),delete this._width,addClass(this._el,"slider_ad_marker_shown")}}else Object(n.re)(t),delete this._width,removeClass(this._el,"slider_ad_marker_shown")},f.prototype.showAdMarker=function(e){var t=Object(n.se)('<div class="slider_ad_marker"></div>');Object(n.domPN)(this._slideEl).insertBefore(t,this._slideEl),delete this._width,addClass(this._el,"slider_ad_marker_shown")},f.prototype.isAdMode=function(){return hasClass(this._el,"slider_ad_mode")},f.prototype.toggleLoading=function(e){e=!!e,Object(n.toggle)(this._progressEl,e),setStyle(this._progressEl,"opacity",e?1:0)},f.prototype.destroy=function(e){this.options.formatHint&&(removeEvent(this._el,"mousemove",this._ev_onMouseOver),removeEvent(this._el,"mouseleave",this._ev_onMouseLeave),removeEvent(this._el,"mousedown",this._ev_onMouseDown)),Object(n.re)(this._el),Object(n.re)(this._currHintEl)},f.prototype._updateHint=function(e,t){this._currHintEl||(this._currHintEl=Object(n.se)('<div class="slider_hint" id="slider_hint"></div>'),this.options.hintClass&&addClass(this._currHintEl,this.options.hintClass),this._el.appendChild(this._currHintEl)),this._width=this._width||getSize(this._slideEl)[0];var _=this._getPos(),i=Math.round(e.pageX-_[0]),o=this._width;if((i=t?Math.min(Math.max(0,i),o):i)>=0&&i<=o){var s=i/o;this._currHintEl.innerHTML=this.options.formatHint?this.options.formatHint.call(this,s):s;var l=getSize(this._currHintEl);setStyle(this._currHintEl,{left:this._slideEl.offsetLeft+i-l[0]/2,top:this._slideEl.offsetTop-l[1]-10}),!t&&this._toggleHint(!0)}else!t&&this._toggleHint(!1);this.options.formatHint||this._toggleHint(!1)},f.prototype._toggleHint=function(e){this.isAdMode()&&(e=!1),Object(n.toggleClass)(this._currHintEl,"visible",e)},f.prototype._onMouseOver=function(e){f._currenSliderDrag||hasClass(this._el,"active")||this._updateHint(e)},f.prototype._onMouseLeave=function(e){hasClass(this._el,"active")||this._toggleHint(!1)},f.prototype._onMouseDown=function(e){0==e.button&&(delete cur._sliderMouseUpNowEl,this._adState||(addEvent(window,"mousemove",this._ev_onMouseMove=this._onMouseMove.bind(this)),addEvent(window,"mouseup",this._ev_onMouseUp=this._onMouseUp.bind(this)),this._width=getSize(this._slideEl)[0],this._onMouseMove(e),f._currenSliderDrag=this,addClass(this._el,"active"),Object(E.cancelEvent)(e)))},f.prototype._onMouseUp=function(e){cur._sliderMouseUpNowEl=this._el,removeEvent(window,"mousemove",this._ev_onMouseMove),removeEvent(window,"mouseup",this._ev_onMouseUp),clearTimeout(this._debounceto),this._onValueChange(),removeClass(this._el,"active"),f._currenSliderDrag=!1,this._toggleHint(!1),this.options.onEndDragging&&this.options.onEndDragging(this._currValue)},f.prototype._onMouseMove=function(e){var t=this._getPos(),_=Math.max(e.pageX,t[0]);_=Math.min(_,t[0]+this._width),_-=t[0],this.setValue(_/this._width,!0,!0),this._onValueChangeDebounced?this._onValueChangeDebounced():this._onValueChange(),this._toggleHint(!0),this._updateHint(e,!0),Object(E.cancelEvent)(e)},f.prototype._getPos=function(){return this._slidePos=getXY(this._slideEl)},f.LOGFBASE=35,f.prototype._logf=function(e){if(!this.options.log)return e;var t=f.LOGFBASE;return(Math.pow(t,e)-1)/(t-1)},f.prototype._unlogf=function(e){if(!this.options.log)return e;var t,_,i=f.LOGFBASE;return t=i,_=1+e*(i-1),Math.log(_)/Math.log(t)},f.prototype.setValue=function(e,t,_){if(!hasClass(this._el,"active")||_){var i=_?this._logf(e):e;if(this._currValue!=i){this._currValue=i;var o=_?e:this._unlogf(e);o=100*o+"%",setStyle(this._amountEl,{width:o}),setStyle(this._handlerEl,{left:o}),!t&&this._onValueChange()}}},f.prototype.setBackValue=function(e){Object(n.toggleClass)(this._backEl,"slider_back_transition",e>this._backValue),this._backValue=e;var t=100*e+"%";setStyle(this._backEl,{width:t})},f.prototype._onValueChange=function(){this._lastValue=this._lastValue||0,this._lastValue!=this._currValue&&(this._lastValue=this._currValue,this.options.onChange&&this.options.onChange(this._currValue))};var P=f;window.uiTabs=i.default,window.uiActionsMenu=o.default,window.uiRightMenu=l.default,window.uiPageBlock=c,window.uiSearch=h.default,window.uiScrollBox=u.default,window.uiPhotoZoom=O,window.Scrollbar=window.Scrollbar||v,window.OList=M,window.UiScroll=s.default,window.uiScroll=s.default,window.Slider=P;try{stManager.done("ui_common.js")}catch(e){}},btP0:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("SRfc"),core_js_modules_es6_string_fixed__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("0mN4"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zxIV"),_web_lib_input_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("o7bv"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("t7n3"),_web_lib_element_tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("k487"),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("Egk5"),_web_legacy_ui_ui_tabs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("hmKL"),_web_lib_browser__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("gdug"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("98sY"),_web_lib_scroll__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lXE5"),uiSearch={destroy:function(e){var t=uiSearch.getFieldEl(e);uiSearch.stopEvents(t),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeData)(t)},getWrapEl:function(e){return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_wrap",e)},getFieldEl:function(e){return e=ge(e),hasClass("_field",e)?e:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domByClass)(uiSearch.getWrapEl(e),"_field")},stopEvents:function(e){var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"eventHandlers")||[];each(t,function(e,t){t.stop()})},startEvents:function(e){var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"eventHandlers")||[];each(t,function(e,t){t.stop(),t.start()})},init:function init(el,options){if(el&&(el=uiSearch.getFieldEl(el),el)){var wrapEl=uiSearch.getWrapEl(el),delayedInitOptions=!options&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(wrapEl,"init-options");if(delayedInitOptions){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(wrapEl,"init-options",null);var evalScript="(function() { return "+delayedInitOptions+" })()";try{uiSearch.init(el,eval(evalScript))}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_9__.logEvalError)(e,evalScript)}}else if(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(el,"inited")){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(el,"inited",1);var onKeyDown=uiSearch.onKeyDown.pbind(el),onBuffer=function(e){if("input"===e.type&&_web_lib_browser__WEBPACK_IMPORTED_MODULE_8__.browser.msie){var t=val(el);if(t===(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(el,"prev-value")||""))return;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(el,"prev-value",t)}setTimeout(uiSearch.onChanged.pbind(el,!1,e),0)},onBlur=uiSearch.onBlurred.pbind(el),mainHandler;if(Object(_web_lib_input_utils__WEBPACK_IMPORTED_MODULE_3__.placeholderInit)(el),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(el,"opts",options),options.suggester)options.suggester.instance=new Suggester(el,extend(options.suggester,{type:options.suggester.type,historyItems:!!options.suggester.history&&options.suggester.historyItems,onSearch:function(e,t,_){e||(options.allowFiltersForEmpty||uiSearch.removeAllFilters(el),uiSearch.hideProgress(el)),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(wrapEl,"ui_search_field_empty",!e),options.onChange&&options.onChange.call(el,e,t,_)}})),mainHandler={start:function(){addEvent(el,"blur",onBlur),options.onBlur&&addEvent(el,"blur",options.onBlur),options.onFocus&&addEvent(el,"focus",options.onFocus)},stop:function(){removeEvent(el,"blur",onBlur),options.onBlur&&removeEvent(el,"blur",options.onBlur),options.onFocus&&removeEvent(el,"focus",options.onFocus)}};else{var searchBtn=geByClass1("_ui_search_button_search",wrapEl),onBtnClick=function(e){uiSearch.onEnter(el,e),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.elfocus)(el)};mainHandler={start:function(){addEvent(el,"keydown",onKeyDown),addEvent(el,"paste cut input",onBuffer),addEvent(el,"blur",onBlur),options.onBlur&&addEvent(el,"blur",options.onBlur),options.onFocus&&addEvent(el,"focus",options.onFocus),searchBtn&&addEvent(searchBtn,"click",onBtnClick)},stop:function(){removeEvent(el,"keydown",onKeyDown),removeEvent(el,"paste cut input",onBuffer),removeEvent(el,"blur",onBlur),options.onBlur&&removeEvent(el,"blur",options.onBlur),options.onFocus&&removeEvent(el,"focus",options.onFocus),searchBtn&&removeEvent(searchBtn,"click",onBtnClick)}}}if(mainHandler.start(),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(el,"eventHandlers",[mainHandler]),options.params){var content=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.se)(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(options.params.html));options.paramsTooltip=new _web_lib_element_tooltip__WEBPACK_IMPORTED_MODULE_5__.default(geByClass1("_ui_search_params_button",wrapEl),{appendTo:wrapEl,content,autoShow:!1,customShow:!0,offset:[0,-2],shift:options.params.shift?options.params.shift:0}),options.paramsTooltip.build(),setTimeout(function(){(function initScript(){try{eval(options.params.script)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_9__.logEvalError)(e,options.params.script)}}).call(el)})}options.fixed&&uiSearch.setFixed(el),options.noAutoDestroy||cur.destroy.push(uiSearch.stopEvents.pbind(el)),uiSearch.initFilters(el,options),Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.isFunction)(options.onInit)&&options.onInit(el,options)}}},getOptions:function(e){var t=uiSearch.getWrapEl(e),_=geByClass1("_field",t);return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(_,"opts")},toggleParameters:function(e){var t=uiSearch.getWrapEl(e),_=geByClass1("_field",t),i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(_,"opts");i.paramsTooltip&&i.paramsTooltip.toggle()},saveHistorySearch:function(e,t,_,i,o,s){t||(t=val(e));var l=uiSearch.getOptions(e);l.suggester&&l.suggester.instance&&l.suggester.instance.saveHistoryItem(t,_,i,o,s)},onEnter:function(e,t){e=uiSearch.getFieldEl(e);var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"opts"),i=e.getValue();return _.onEnter&&_.onEnter(e,i,t),Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__.cancelEvent)(t)},onKeyDown:function(e,t){if(cur.preventInputActions&&-1!=[KEY.RETURN,KEY.ESC,KEY.DOWN,KEY.UP].indexOf(t.keyCode))return Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__.cancelEvent)(t);if(t.keyCode==KEY.RETURN)return uiSearch.onEnter(e,t);if(t.keyCode==KEY.ESC){var _=!!val(e);return uiSearch.reset(e,!1,t),!_||Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__.cancelEvent)(t)}setTimeout.pbind(uiSearch.onChanged.pbind(e,!1,t),0)},onBlurred:function(e,t){var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"opts");_.onBlur&&_.onBlur.call(e,t)},onChanged:function(e,t,_){e=uiSearch.getFieldEl(e);var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"opts"),o=uiSearch.getWrapEl(e),s=e.getValue?e.getValue():e.value;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(o,"ui_search_field_empty",!Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(s)),s||i.allowFiltersForEmpty||uiSearch.removeAllFilters(e),t||i.onChange&&i.onChange.call(e,s,_)},focus:function(e){e=uiSearch.getFieldEl(e),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.elfocus)(e)},reset:function(e,t,_){e=uiSearch.getFieldEl(e);var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"opts"),o=uiSearch.getWrapEl(e);(e.getValue?e.getValue():e.value)?(val(e,""),uiSearch.onChanged(e,t,_),t||i.onEnter&&i.onEnter(e,""),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.elfocus)(e)):i.in_tabs&&_web_legacy_ui_ui_tabs__WEBPACK_IMPORTED_MODULE_7__.default.hideSearch(o),window.tooltips&&tooltips.destroyAll()},showProgress:function(e){e=uiSearch.getFieldEl(e);var t=uiSearch.getWrapEl(e);addClass(t,"ui_search_loading");var _=e.getValue?Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(e.getValue()):e.value;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(t,"ui_search_field_empty",!_)},hideProgress:function(e){e=uiSearch.getFieldEl(e);var t=uiSearch.getWrapEl(e);removeClass(t,"ui_search_loading");var _=e.getValue?Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(e.getValue()):e.value;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(t,"ui_search_field_empty",!_)},scrollResize:function(e){if(!_web_lib_browser__WEBPACK_IMPORTED_MODULE_8__.browser.mobile){e=uiSearch.getFieldEl(e);var t,_=uiSearch.getWrapEl(e),i=_&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domPN)(_),o=_&&hasClass(_,"ui_search_fixed"),s=ge(cur.uiSearchPageBlock)||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("page_block",e),l=vk.staticheader?Math.max(0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(ge("page_header"))[1]-scrollNode.scrollTop):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(ge("page_header"))[1],n=_&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isAncestor)(_,boxLayerWrap);if(_&&i&&(n||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("scroll_fix",_))&&(!e.ignoreFixed||o)&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isVisible)(i))if(n?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(i,!0)[1]<0:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(i,!0)[1]<l){var r=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.intval)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(e,"width"));!o&&r&&(setStyle(i,"height",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(_)[1]),setStyle(_,"width",r),addClass(_,"ui_search_fixed"));var a=Math.min(0,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(ge("page_layout"))[0]));if(setStyle(_,{marginLeft:a}),s){var c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(s)[1]+Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(s)[1]-Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_10__.scrollGetY)()-e.offsetHeight;(t=Math.min(l,Math.max(-e.offsetHeight,c)))!==cur.lastUISearchPos&&(setStyle(_,"top",t),cur.lastUISearchPos=t)}}else o&&(setStyle(i,"height",""),setStyle(_,{top:"",marginLeft:""}),cur.lastUISearchPos=!1,removeClass(_,"ui_search_fixed"))}},setStatic:function(e){e.ignoreFixed=!0;var t=uiSearch.getWrapEl(e),_=t&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domPN)(t);t&&_&&(setStyle(_,"height",""),setStyle(t,{top:"",marginLeft:""}),cur.lastUISearchPos=!1,removeClass(t,"ui_search_fixed"))},setFixed:function(e){if(e.ignoreFixed=!1,!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"resizeEventHandler")){var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isAncestor)(e,boxLayerWrap)?boxLayerWrap:window,_=uiSearch.scrollResize.pbind(e),i={stop:removeEvent.pbind(t,"scroll",_),start:addEvent.pbind(t,"scroll",_)};Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"eventHandlers",(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"eventHandlers")||[]).concat([i])),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"resizeEventHandler",!0),i.start()}uiSearch.scrollResize(e)},initFilters:function(e,t){if(e){var _=uiSearch.getWrapEl(e),i=geByClass1("ui_search_fltr_control",_),o={start:function(){addEvent(i,"click",function(e){hasClass(i,"shown")&&!hasClass(e.target,"ui_search_fltr_control")||l(i)}),addEvent(i,"mouseover",function(){if(hasClass(i,"shown")){var e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"hidetimer");e&&(clearTimeout(e),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"hidetimer",0)),l(i,!0)}}),addEvent(i,"mouseout",function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"hidetimer")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"hidetimer",setTimeout(function(){l(i,!1),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"hidetimer",0)},200))})},stop:removeEvent.pbind(i,"click mouseover mouseout")};Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"eventHandlers",(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"eventHandlers")||[]).concat([o])),o.start();var s=uiSearch._getFiltersPane(e);addEvent(s,"click",function(t){if(hasClass(t.target,"token_title")||hasClass(t.target,"token_del")){var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("token",t.target),i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(_,"id");uiSearch.removeFilter(e,i)}})}function l(e,t){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(e,"shown",t)}},removeAllFilters:function(e){var t=uiSearch._getFiltersPane(e),_=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"cur_filters");each(extend({},_),function(t){uiSearch.removeFilter(e,t,!0)})},toggleFilter:function(e,t,_,i){i?uiSearch.addFilter(e,t,_):uiSearch.removeFilter(e,t)},addFilter:function(e,t,_){if(t&&_){var i=uiSearch._getFiltersPane(e),o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"cur_filters")||{};o[t]=_,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"cur_filters",o),uiSearch._renderFilters(e)}},removeFilter:function(e,t,_){var i=uiSearch._getFiltersPane(e),o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"cur_filters")||{};if(o[t]){delete o[t],Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(i,"cur_filters",o);var s=uiSearch.getOptions(e);s.onFilterRemoved&&s.onFilterRemoved(t,e,_),uiSearch._renderFilters(e)}},_getFiltersPane:function(e){var t=uiSearch.getWrapEl(e)||e;return geByClass1("ui_search_filters_pane",t)},_renderFilters:function(e){clearTimeout(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"renderFiltersTO")),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"renderFiltersTO",setTimeout(uiSearch._doRenderFilters.pbind(e)))},_doRenderFilters:function(e){var t=uiSearch._getFiltersPane(e),_=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"cur_filters")||{},i=geByClass1("ui_search_filters",t);if(i)if(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.isEmpty)(_))removeClass(t,"expanded"),setTimeout(function(){i.innerHTML="",hide(t)},200);else{Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.show)(t),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClassDelayed)(t,"expanded");var o=[],s={},l=0;each(_,function(e,t){var _=!1,i=!1,n=e.match(/(.*?)_([^_]+)$/),r=n&&n[2]||!1;(n=n&&n[1]||!1)&&(void 0!==s[n]&&"from"===r?i=s[n]:void 0!==s[n]&&(_=s[n]+1),s[n]=l);var a=`<div class="token" id="token${e}" data-id="${e}">\n                         <div class="token_title">${Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.replaceEntities)(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.clean)(t))}</div>\n                         <div class="token_del"></div>\n                       </div>`;!1!==i?o.splice(i,0,a):!1!==_?o.splice(_,0,a):o.push(a),l++}),i.innerHTML=o.join("")}}};__webpack_exports__.default=uiSearch},hmKL:function(e,t,_){"use strict";_.r(t);var i=_("zxIV"),o=_("t7n3"),s=_("gdug"),l=_("Egk5"),n={initTabs:function(e,t){if(!(s.browser.msie&&Object(o.intval)(s.browser.version)<10||s.browser.opera&&Object(o.intval)(s.browser.version)<15||hasClass(e,"ui_tabs_sliding"))){var _=Object(i.getSize)(t)[0],l=t.offsetLeft,n=Object(i.geByClass1)("_ui_tabs_slider",e);if(!Object(i.domData)(e,"inited"))setStyle(n,{width:_+"px",marginLeft:l})}},tryInit:function(e){if(!Object(i.domData)(e,"inited")){var t=Object(i.geByClass1)("ui_tab_group_sel",e)||Object(i.geByClass1)("ui_tab_sel",e);t&&n.initTabs(e,t),Object(i.domData)(e,"inited",1)}},goTab:function(e,t,_){if(Object(l.checkEvent)(t))return!0;var o=Object(i.gpeByClass)("ui_tabs",e);return!(!_&&Object(i.geByClass1)("ui_tab_sel",o)==e)&&(n.switchTab(e),n.showProgress(o),nav.go(e,t,{tab:e}))},switchTab:function(e,t){var _=Object(i.gpeByClass)("ui_tabs",e),s=Object(i.geByClass1)("ui_tab_sel",_),l=null,r=null,a=hasClass(s,"ui_tab_group_item")?r=Object(i.gpeByClass)("ui_tab_group",s):s,c=hasClass(e,"ui_tab_group_item")?l=Object(i.gpeByClass)("ui_tab_group",e):e;if(e!=s){if(e!=c&&(n.toggleGroup(c,!1),n.resetLabel(c,e)),a){n.initTabs(_,a),(t=t||{}).noAnim||c===a||(addClass(_,"ui_tabs_sliding"),clearTimeout(cur.tabSlidingTO),cur.tabSlidingTO=setTimeout(removeClass.pbind(_,"ui_tabs_sliding"),300));var h=Object(i.geByClass1)("_ui_tabs_slider",_),u=Object(o.intval)(h.style.marginLeft),d={width:Object(i.getSize)(c)[0]+"px"};d[cssTransformProp]="translateX("+(c.offsetLeft-u)+"px)",setStyle(h,d),s!=a&&c!=a&&n.resetLabel(a),a!=s&&removeClass(a,"ui_tab_group_sel"),removeClass(s,"ui_tab_sel")}if(c!=e&&addClass(c,"ui_tab_group_sel"),addClass(e,"ui_tab_sel"),r&&removeClass(r,"ui_tab_hide_separator"),l){_=Object(i.geByClass1)("ui_tab_group_items",l,"div").children;var b=null;each(_,function(e,t){"SPAN"===t.tagName?b=t:hasClass(Object(i.domFC)(t),"ui_tab_sel")||hasClass(t,"unshown")||(b=null)}),b&&addClass(l,"ui_tab_hide_separator")}}return!1},resetLabel:function(e,t){var _=Object(i.geByClass1)("ui_tab_group_label",e,"span");_&&(_.innerHTML=(t||_).getAttribute("data-default-label"))},toggleGroup:function(e,t){var _=Object(i.data)(e,"visibletimer");_&&clearTimeout(_),Object(i.data)(e,"visibletimer",setTimeout(i.toggleClass.pbind(e,"visible",t),t?0:100)),Object(i.toggleClass)(e,"shown",t)},showGroup:function(e){var t=Object(i.data)(e,"hidetimer");t&&(clearTimeout(t),Object(i.data)(e,"hidetimer",0)),n.toggleGroup(e,!0)},hideGroup:function(e){Object(i.data)(e,"hidetimer")||Object(i.data)(e,"hidetimer",setTimeout(function(){n.toggleGroup(e,!1),Object(i.data)(e,"hidetimer",0)},200))},showProgress:function(e){hasClass(e,"ui_tabs")||(e=Object(i.gpeByClass)("ui_tabs",e)),addClass(e,"ui_tabs_loading")},hideProgress:function(e){hasClass(e,"ui_tabs")||(e=Object(i.gpeByClass)("ui_tabs",e)),removeClass(e,"ui_tabs_loading")},showSearch:function(e,t){if(cur.viewAsBox)return cur.viewAsBox();if(Object(l.checkEvent)(t))return!0;var _=Object(i.gpeByClass)("ui_tabs",e),o=Object(i.domByClass)(_,"_field");return addClass(_,"ui_tabs_search_opened"),uiSearch.focus(o),!1},hideSearch:function(e,t){if(Object(l.checkEvent)(t))return!0;var _=Object(i.gpeByClass)("ui_tabs",e);return removeClass(_,"ui_tabs_search_opened"),!1}};t.default=n},"qUi/":function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _web_lib_browser__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("gdug"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("t7n3"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zxIV"),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Egk5"),_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("v+DW"),_web_lib_fx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("7jxN"),_web_lib_layout_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("El3O"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("98sY"),uiRightMenu={initMenu:function(e,t){if(!(_web_lib_browser__WEBPACK_IMPORTED_MODULE_0__.browser.msie&&Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__.intval)(_web_lib_browser__WEBPACK_IMPORTED_MODULE_0__.browser.version)<10||_web_lib_browser__WEBPACK_IMPORTED_MODULE_0__.browser.opera&&Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__.intval)(_web_lib_browser__WEBPACK_IMPORTED_MODULE_0__.browser.version)<15||hasClass(e,"ui_rmenu_sliding"))){var _=geByClass1("ui_rmenu_item",e),i=geByClass1("ui_rmenu_item_sel",e),o=i||_,s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(o)[1],l=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(o)[1]-Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(e)[1],n=geByClass1("_ui_rmenu_slider",e);if(!t)setStyle(n,{height:s,top:i?l:0}),addClass(e,"ui_rmenu_sliding")}},go:function(e,t,_,i){if(Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_3__.checkEvent)(t))return!0;var o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",e);return!(!(i||{}).ignoreSelected&&geByClass1("ui_rmenu_item_sel",o)==e)&&(uiRightMenu.switchMenu(e),uiRightMenu.showProgress(e),!1!==_&&nav.go(_||e,t,extend({fromMenu:!0},i||{})))},switchMenu:function(e,t){var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",e),i=geByClass1("ui_rmenu_item_sel",_);if(e==i&&!t)return!1;uiRightMenu.initMenu(_);var o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(e)[1],s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(e)[1]-Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(_)[1],l=[],n=[];if(hasClass(_,"_ui_rmenu_auto_expand")){var r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.geByClass)("_ui_rmenu_sublist",_),a=hasClass(e,"_ui_rmenu_subitem")?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("_ui_rmenu_sublist",e):!!hasClass(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domNS)(e),"_ui_rmenu_sublist")&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domNS)(e);each(r,function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isVisible)(this)&&this!==a&&(l.push(this),hide(this))}),a&&!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isVisible)(a)&&(n.push(a),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.show)(a)),s=e.offsetTop,each(l,function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.show)(this)}),each(n,function(){hide(this)})}var c=geByClass1("_ui_rmenu_slider",_),h=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__.intval)(c.style.top),u={height:o};return _web_lib_browser__WEBPACK_IMPORTED_MODULE_0__.browser.msie_edge?u.marginTop=s-h+"px":u[cssTransformProp]="translateY("+(s-h)+"px)",setStyle(c,u),removeClass(i,"ui_rmenu_item_sel"),addClass(e,"ui_rmenu_item_sel"),hasClass(_,"_ui_rmenu_auto_expand")?each(l.concat(n),function(){uiRightMenu.toggleSubmenu(this)}):hasClass(e,"_ui_rmenu_subitem")&&!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isVisible)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domPN)(e))&&uiRightMenu.toggleSubmenu(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domPN)(e)),!1},fixScroller:function(e){var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",e);if(t&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isVisible)(e)){var _=hasClass(t,"ui_rmenu_sliding"),i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(e)[1];_&&uiRightMenu.hideSliding(t);var o=e.offsetTop,s=geByClass1("_ui_rmenu_slider",t),l=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_1__.intval)(s.style.top),n={height:i};_web_lib_browser__WEBPACK_IMPORTED_MODULE_0__.browser.msie_edge?n.marginTop=o-l+"px":n[cssTransformProp]="translateY("+(o-l)+"px)",setStyle(s,n),e.offsetLeft,_&&uiRightMenu.showSliding(t)}},unselectAll:function(e){removeClass(e,"ui_rmenu_sliding"),removeClass(geByClass1("ui_rmenu_item_sel",e),"ui_rmenu_item_sel")},hideSliding:function(e){removeClass(e,"ui_rmenu_sliding")},showSliding:function(e){addClass(e,"ui_rmenu_sliding")},showProgress:function(e){hasClass(e,"ui_rmenu")||(e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",e));var t=geByClass1("ui_rmenu_loading_item",e);t&&removeClass(t,"ui_rmenu_loading_item");var _=geByClass1("ui_rmenu_item_sel",e);Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.hideProgress)(e),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.showProgress)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domFC)(_).parentNode,"","",!1),addClass(e,"ui_rmenu_loading"),addClass(_,"ui_rmenu_loading_item")},hideProgress:function(e){hasClass(e,"ui_rmenu")||(e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",e)),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.hideProgress)(e);var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",e);removeClass(e,"ui_rmenu_loading"),uiRightMenu.hideSliding(t);var _=geByClass1("ui_rmenu_loading_item",t);_&&removeClass(_,"ui_rmenu_loading_item")},toggleSubmenu:function toggleSubmenu(name,ref){var menu=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.gpeByClass)("ui_rmenu",ref),el,submenu;if("string"==typeof name?submenu=geByClass1("_ui_rmenu_"+name+"_list",menu):(submenu=name,name=submenu.getAttribute("data-sublist-id")),el=geByClass1("_ui_rmenu_"+name+"_toggle",menu),!submenu)return!1;void 0!==ref&&uiRightMenu.hideSliding(menu),el&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(el,"ui_rmenu_item_expanded",!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.isVisible)(submenu)),Object(_web_lib_fx__WEBPACK_IMPORTED_MODULE_5__.slideToggle)(submenu,submenu&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(submenu)[1]?100:0),setTimeout(_web_lib_layout_utils__WEBPACK_IMPORTED_MODULE_6__.updateNarrow,100);var onToggle=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(el,"on-toggle");return onToggle&&setTimeout(function(){try{eval(onToggle)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_7__.logEvalError)(e,onToggle)}},150),!1}};__webpack_exports__.default=uiRightMenu},qrY5:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pIFo"),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Egk5"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zxIV"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("t7n3"),_web_lib_browser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("gdug"),_web_lib_scroll__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("lXE5"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("98sY"),_web_legacy_ui_ui_scroll__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("59zB"),uiActionsMenu={keyToggle:function(e,t){if(!Object(_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_1__.checkKeyboardEvent)(t))return!1;var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",e);_&&uiActionsMenu.toggle(_,!hasClass(_,"shown"))},toggle:function toggle(el,s,options){var dummyMenu=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(el,"dummyMenu");dummyMenu&&(el=dummyMenu),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(el,"shown",s);var onhide=attr(el,"onHide");if(onhide&&!hasClass(el,"shown"))try{eval(onhide)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__.logEvalError)(e,onhide)}if(options&&options.onToggle){var script=options.onToggle.replace("{isShow}",""+s);try{eval(script)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_6__.logEvalError)(e,script)}}},show:function(e,t,_){var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidetimer");i&&(clearTimeout(i),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidetimer",0));var o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"origMenu");if(o&&(i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"hidetimer"))&&(clearTimeout(i),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidetimer",0)),_&&_.delay){cur.uiActionsMenuShowTimeout&&clearTimeout(cur.uiActionsMenuShowTimeout);var s=_.delay;return delete _.delay,void(cur.uiActionsMenuShowTimeout=setTimeout(uiActionsMenu.show.pbind(e,t,_),s))}if(cur.uiActionsMenuShowTimeout&&(clearTimeout(cur.uiActionsMenuShowTimeout),delete cur.uiActionsMenuShowTimeout),_&&_.appendParentCls){var l,n,r=geByClass1("_ui_menu",e);if(r){n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)(_.appendParentCls,r),l=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",e);var a=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.se)(`<div class="${l.className} ui_actions_menu_dummy_wrap" onmouseover="uiActionsMenu.show(this);" onmouseout="uiActionsMenu.hide(this);"></div>`);if(a.appendChild(r),n.appendChild(a),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"dummyMenu",a),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(a,"origMenu",e),e=a,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(r,"top",Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(r,"top"))),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(r,"left",Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(r,"left"))),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(r,"right",Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(r,"right"))),_.processHoverCls){var c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)(_.processHoverCls,l);addEvent(e,"mouseover",addClass.pbind(c,"hover")),addEvent(e,"mouseout",removeClass.pbind(c,"hover"))}}else e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"dummyMenu");var h=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"origMenu");r=geByClass1("_ui_menu",e),l=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",h),n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)(_.appendParentCls,r),setStyle(r,{display:"block"});var u=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(n),d=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(l),b=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(r,"top"),E=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(r,"left"),p=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(r,"right"),O={top:d[1]-u[1]+b};p?O.right=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(n)[0]+u[0]-d[0]-Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(l)[0]+p:O.left=d[0]-u[0]+E,setStyle(r,O)}var m=geByClass1("_ui_menu",e);if(_&&_.autopos&&m&&!hasClass(e,"shown")){removeClass(e,"ui_actions_menu_left");var g=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(e)[1],v=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(e)[1],w=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(m)[1],M=_.dy||10,f=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(m)[0];removeClass(e,"ui_actions_menu_top"),addClass(e,"no_transition"),g+v+M+w>(_web_lib_browser__WEBPACK_IMPORTED_MODULE_4__.browser.mozilla?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)("page_wrap")[1]:Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_5__.scrollGetY)()+(window.lastWindowHeight||0))&&addClass(e,"ui_actions_menu_top"),g-M-w<Object(_web_lib_scroll__WEBPACK_IMPORTED_MODULE_5__.scrollGetY)()+Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)("page_header_wrap")[1]&&removeClass(e,"ui_actions_menu_top"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(e,"ui_actions_menu_left",f<0),removeClass(e,"no_transition")}_&&_.hasOwnProperty("alwaysTop")&&m&&!hasClass(e,"shown")&&(removeClass(e,"ui_actions_menu_top"),_.alwaysTop&&addClass(e,"ui_actions_menu_top")),_&&_.scroll&&_.maxHeight&&(m.style.maxHeight=(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(_.maxHeight)||200)+"px",m.__uiScroll__||new _web_legacy_ui_ui_scroll__WEBPACK_IMPORTED_MODULE_7__.default(m)),uiActionsMenu.toggle(e,!0,_)},hide:function(e,t,_){cur.uiActionsMenuShowTimeout&&(clearTimeout(cur.uiActionsMenuShowTimeout),delete cur.uiActionsMenuShowTimeout);var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidedelay");i?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidedelay",!1):i=200,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidetimer")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidetimer",setTimeout(function(){uiActionsMenu.toggle(e,!1,_),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidetimer",0)},i))},hideDelay:function(e,t){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(e,"hidedelay",t)}};__webpack_exports__.default=uiActionsMenu},zmTt:function(e,t,_){"use strict";_.r(t);_("a1Th"),_("Btvt");var i=_("zxIV"),o=_("Egk5"),s=_("lXE5"),l={init:function(e,t){cur.lSTL&&Object(i.re)(cur.lSTL);var _=(t=t||{}).parent=t.parent||boxLayerWrap;extend(cur,{lSTLWrap:_,lSTL:_.appendChild(ce("div",{id:"layer_stl",innerHTML:`<div id="layer_stl_bg" class="fixed"></div><div id="layer_stl_cl"></div><nobr id="layer_stl_text" class="fixed">${getLang("global_to_top")}</nobr>`,el:e.bodyNode,onclick:o.cancelEvent,onmousedown:l.lSTLDown,sc:l.onScroll})),lSTLText:ge("layer_stl_text",_),lSTLShown:0,lSTLWas:0,lSTLWasSet:0,lSTLOpts:t}),e&&e.setOptions({onShow:l.show,onHide:l.hide}),e&&e.scrollInited||(addEvent(_,"scroll",l.onScroll),e&&(e.scrollInited=!0)),onBodyResize(),l.onScroll()},hide:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=cur.lSTLOpts;e&&e.parent&&(removeEvent(e.parent,"scroll",l.onScroll),hide(cur.lSTL),cur.lSTLShown=0,e.onHide&&e.onHide())}),show:function(){var e=cur.lSTLOpts;e&&e.parent&&(addEvent(e.parent,"scroll",l.onScroll),setTimeout(l.onScroll,0),e.onShow&&e.onShow())},lSTLDown:function(e){if(e=e||window.event,!Object(o.checkEvent)(e)){var t=cur.lSTLWrap;if(!__afterFocus){var _=0,i=t.scrollTop;cur.lSTLWasSet&&cur.lSTLWas?(_=cur.lSTLWas,cur.lSTLWas=0):cur.lSTLWas=i,t.scrollTop=_}return Object(o.cancelEvent)(e)}},onScroll:function(){if(cur.lSTL){var e=cur.lSTLWrap.scrollTop,t=cur.lSTLWas||e>200,_=0;if(cur.lSTL.style.marginTop=Math.min(e,boxLayer.scrollHeight-cur.lSTL.scrollHeight-1)+"px",vk.staticheader){var o=Object(i.getSize)("page_header_wrap")[1];cur.lSTLText.style.marginTop=Math.max(-Math.min(Object(s.scrollGetY)(),bodyNode.clientHeight-(window.lastWindowHeight||0)),-o)+"px"}t?(1!==cur.lSTLShown&&(Object(i.show)(cur.lSTL),cur.lSTLShown=1),cur.lSTLWas&&e>500&&(cur.lSTLWas=0),e>200?(_=(e-200)/200,cur.lSTLWasSet&&(cur.lSTLWasSet=0,val(Object(i.domLC)(cur.lSTL),getLang("global_to_top")),removeClass(Object(i.domLC)(cur.lSTL),"down"))):(_=(200-e)/200,cur.lSTLWas&&(cur.lSTLWasSet||(cur.lSTLWasSet=1,val(Object(i.domLC)(cur.lSTL),""),addClass(Object(i.domLC)(cur.lSTL),"down"))))):0!==cur.lSTLShown&&(hide(cur.lSTL),cur.lSTLShown=0),setStyle(cur.lSTL,{opacity:Math.min(Math.max(_,0),1)})}}};t.default=l}});